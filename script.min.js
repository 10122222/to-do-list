const toDoInput=document.getElementById("input"),toDoList=document.getElementById("list"),submitButton=document.getElementById("submit"),clearButton=document.getElementById("clear"),emptyButton=document.getElementById("empty"),saveButton=document.getElementById("save");function createTodoItem(t,e){var o=document.createElement("li");o.classList.add("list-item"),o.textContent=t,e&&o.classList.add("completed"),toDoList.appendChild(o),o.addEventListener("dblclick",toggleTodoItemState),updateCounterWidth()}function addTodoItem(t){t.preventDefault();t=toDoInput.value.trim();toDoInput.value="",t?100<=toDoList.children.length?alert("To-do list has reached the maximum of 100 items, please clear some items before adding more."):createTodoItem(t,!1):toDoInput.focus()}function toggleTodoItemState(){this.classList.toggle("completed")}function clearCompletedItems(){toDoList.querySelectorAll(".completed").forEach(t=>t.remove()),updateCounterWidth()}function emptyListItems(){toDoList.textContent="",updateCounterWidth()}function saveList(){var t=toDoList.querySelectorAll(".list-item"),t=Array.from(t).map(t=>({task:t.textContent,completed:t.classList.contains("completed")}));localStorage.setItem("toDos",JSON.stringify(t))}function loadList(){var t=localStorage.getItem("toDos");t&&JSON.parse(t).forEach(t=>{createTodoItem(t.task,t.completed)})}function updateCounterWidth(){var t=toDoList.children,t=Math.max(1,.5*Math.floor(Math.log10(t.length))+1);document.documentElement.style.setProperty("--counter-width",t+"rem")}submitButton.addEventListener("click",addTodoItem),clearButton.addEventListener("click",clearCompletedItems),emptyButton.addEventListener("click",emptyListItems),saveButton.addEventListener("click",saveList),window.addEventListener("DOMContentLoaded",loadList);